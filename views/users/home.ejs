<%- include("../../views/partials/user/header") %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>

<style>
  /* General Styles */
body {
    font-family: 'Arial', sans-serif;
    color: #333;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    background-color: #f8f9fa;
}

/* Hero Section */
.hero {
    position: relative;
    overflow: hidden;
}

.hero__slider .hero__items {
    height: 400px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-size: cover;
    background-position: center;
    position: relative;
}

.hero__text {
    color: #fff;
    text-align: left;
}

.hero__text h6 {
    font-size: 20px;
    margin-bottom: 10px;
    letter-spacing: 1.2px;
    text-transform: uppercase;
}

.hero__text h2 {
    font-size: 42px;
    margin-bottom: 20px;
}

.hero__text p {
    font-size: 16px;
    margin-bottom: 30px;
}

.primary-btn {
    display: inline-block;
    background-color: #ff6b6b;
    color: #fff;
    padding: 12px 25px;
    border-radius: 5px;
    text-transform: uppercase;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

.primary-btn:hover {
    background-color: #ff4c4c;
}

/* Banner Section */
.banner__item {
    position: relative;
    overflow: hidden;
    margin-bottom: 20px;
    border-radius: 10px;
    background-color: #fff;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.banner__item:hover {
    transform: translateY(-5px);
}

.banner__item__pic img {
    width: 100%;
    height: auto;
    border-radius: 10px 10px 0 0;
}

.banner__item__text {
    padding: 20px;
    text-align: center;
}

.banner__item__text h2 {
    font-size: 20px;
    margin-bottom: 10px;
}

.banner__item__text a {
    font-size: 14px;
    color: #fff;
    background-color: #ff6b6b;
    padding: 8px 20px;
    border-radius: 5px;
    text-decoration: none;
    transition: background-color 0.3s ease;
}

.banner__item__text a:hover {
    background-color: #ff4c4c;
}

/* Product Section */
.product__filter {
    margin-top: 20px;
}

.product-cart-wrap {
    border: 1px solid #eee;
    border-radius: 10px;
    overflow: hidden;
    transition: box-shadow 0.3s ease, transform 0.3s ease;
    background-color: #fff;
}

.product-cart-wrap:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);
}

.product-img {
    position: relative;
    overflow: hidden;
    border-bottom: 1px solid #eee;
    height: 250px;
    background-color: #f9f9f9;
}

.product-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.product-img:hover img {
    transform: scale(1.1);
}

.wishlist-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 8px;
    border-radius: 50%;
    color: #ff6b6b;
    font-size: 18px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.wishlist-btn:hover {
    background-color: #fff;
    color: #ff4c4c;
}

.product-content-wrap {
    padding: 15px;
    text-align: center;
}

.product-content-wrap h6 {
    font-size: 18px;
    margin-bottom: 10px;
    color: #333;
    font-weight: 600;
}

.product-content-wrap h5 {
    font-size: 16px;
    margin-bottom: 15px;
    color: #ff6b6b;
    font-weight: bold;
}

.product-content-wrap a {
    font-size: 14px;
    text-transform: uppercase;
    color: #fff;
    background-color: #ff6b6b;
    padding: 8px 12px;
    border-radius: 5px;
    text-decoration: none;
    transition: background-color 0.3s ease;
}

.product-content-wrap a:hover {
    background-color: #ff4c4c;
}

/* Responsive Styles */
@media (max-width: 768px) {
    .hero__text h2 {
        font-size: 28px;
    }

    .hero__text p {
        font-size: 14px;
    }

    .product-cart-wrap {
        margin-bottom: 20px;
    }
}

</style>

<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">

</head>
<script>
    $(document).ready(function () {
      $(".hero__slider").owlCarousel({
        loop: true,             // Enable infinite loop
        margin: 10,             // Space between slides
        nav: true,              // Show navigation arrows
        dots: true,             // Show dots for navigation
        autoplay: true,         // Enable auto sliding
        autoplayTimeout: 3000,  // Slide every 3 seconds
        responsive: {
          0: { items: 1 },
          600: { items: 1 },
          1000: { items: 1 }
        }
      });
    });
  </script>
  
<section class="hero">
  <div class="hero__slider owl-carousel">
    <div class="hero__items" style="background-image: url('assets/img/hero/watch.png');">
          <div class="container">
              <div class="row">
                  <div class="col-xl-5 col-lg-7 col-md-8">
                      <div class="hero__text">
                          <h6>Summer Collection</h6>
                          <h2>Fall - Winter Collections 2030</h2>
                          <p>A specialist label creating luxury essentials. Ethically created.</p>
                          <a href="/shop" class="primary-btn">Shop now <span class="arrow_right"></span></a>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <div class="hero__items" style="background-image: url('assets/img/hero/hero-2.jpg');">
          <div class="container">
              <div class="row">
                  <div class="col-xl-5 col-lg-7 col-md-8">
                      <div class="hero__text">
                          <h6>Summer Collection</h6>
                          <h2>Fall - Winter Collections 2030</h2>
                          <p>A specialist label creating luxury essentials.</p>
                          <a href="/shop" class="primary-btn">Shop now <span class="arrow_right"></span></a>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
<section class="banner spad">
  <div class="container">
      <div class="row">
          <div class="col-lg-12">
              <div class="banner__item">
                  <div class="banner__item__pic">
                      <img src="assets/img/banner/new1.jpg" alt="Clothing Collections 2030">
                  </div>
                  <div class="banner__item__text">
                      <h2>Luxury Collections 2030</h2>
                      <a href="/shop">Shop now</a>
                  </div>
              </div>
          </div>
          <div class="col-lg-6">
              <div class="banner__item banner__item--middle">
                  <div class="banner__item__pic">
                      <img src="assets/img/banner/images (1).jpeg" alt="Accessories">
                  </div>
                  <div class="banner__item__text">
                      <h2>Summer Collection</h2>
                      <a href="/shop">Shop now</a>
                  </div>
              </div>
          </div>
          <div class="col-lg-6">
              <div class="banner__item banner__item--last">
                  <div class="banner__item__pic">
                      <img src="assets/img/banner/images (3).jpeg" alt="Shoes Spring 2030">
                  </div>
                  <div class="banner__item__text">
                      <h2>Spring 2025</h2>
                      <a href="/shop">Shop now</a>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
<section class="product spad">
  <div class="container">
      <div class="row">
          <div class="col-lg-12">
              <ul class="filter__controls">
                  <li data-filter=".new-arrivals"><h1>New Arrivals</h1></li>
              </ul>
          </div>
      </div>
      <div class="row product__filter">
		 <%for(let i =0;i<products.length;i++){%>
              <div class="col-lg-3 col-md-4 col-12 col-sm-6">
                  <div class="product-cart-wrap mb-30">
                      <div class="product-img-action-wrap">
                          <div class="product-img product-img-zoom">
                              <a href="/productDetails?id=<%=products[i]._id%>">
                                  <img class="default-img " style="    object-fit: cover;
                                  width: 100%;
                                  height: 100%;" 
								  src="http://localhost:3000/<%= products[i].productImage[0]%>" 
								  alt="<%=products[i].productName%>">
                              </a>
                          </div>
                          <span class="wishlist-btn" onclick="addToWishlist('<%= products[i]._id %>')">❤️</span>
    
                      </div>
                      <div class="product-content-wrap">
                          <h6><%=products[i].productName%></h6>
                          <h5>₹<%=products[i].salePrice%></h5>      
                          <a><button class="add-to-cart-btn" onclick="addToCart('<%= products[i]._id %>')" style="background-color: #ff6b6b; border: none;">Add to Cart</button></a>
                      </div>
                  </div>
              </div>
		 <%}%>
       </div>
  </div>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
     
     function addToWishlist(productId) {
    $.ajax({
        url: '/addToWishlist',
        method: 'POST',
        data: { productId: productId },
        success: (response) => {
            console.log(response);
            if (response.status) {
                Swal.fire({
                    title: 'Added to Wishlist',
                    text: 'The product has been added to your wishlist',
                    icon: 'success',
                    showCancelButton: true,
                    confirmButtonText: 'Go to Wishlist',
                    cancelButtonText: 'OK',
                    confirmButtonColor: '#3085d6',
                    cancelButtonColor: '#d33'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '/wishlist'; // Redirects to the wishlist page
                    }
                });
            } else {
                Swal.fire({
                    title: 'Already in Wishlist',
                    text: response.message,
                    icon: 'info',
                    showCancelButton: true,
                    confirmButtonText: 'Go to Wishlist',
                    cancelButtonText: 'OK',
                    confirmButtonColor: '#3085d6',
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '/wishlist';
                    }
                });
            }
        },
        error: (error) => {
            Swal.fire({
                title: 'Error',
                text: 'There was an error adding to wishlist',
                icon: 'error',
                confirmButtonText: 'OK'
            });
        }
    });
}

    function addToCart(productId){
    $.ajax({
      url:'/addToCart',
      method:'POST',
      data: {productId: productId},
      success: (response) => {
        console.log("response is",response);
        if(response.status){
          Swal.fire({
                    title: 'Added to Cart',
                    text: response.message || 'The product has been added to your cart.',
                    icon: 'success',
                    timer: 2000,
                    showCancelButton: true, 
                    confirmButtonText: 'Go to Cart', 
                    cancelButtonText: 'Okay!', // 
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '/cart';
                    }
                });
        }else{
          Swal.fire({
            title: 'Already in Cart',
            text: response.message || 'This product is already in your cart.',
            icon:'info',
            timer: 2000
          })
        }
      },
      error: (error) => {
        Swal.fire({
            title: 'Error',
            text: 'There was an error adding cart',
            icon:'error',
            timer: 2000
          })
      }
    })
  }

  </script>
<%- include("../../views/partials/user/footer") %>
